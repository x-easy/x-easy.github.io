<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Apple Music Pro Full Suite</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --am-red: #fa243c; --am-bg: #000;
            --am-text-muted: #8e8e93; --am-border: rgba(255, 255, 255, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { background: var(--am-bg); color: white; font-family: -apple-system, system-ui; overflow-x: hidden; }

        /* --- 主頁內容 --- */
        .main-content { padding-bottom: 80px; transition: transform 0.4s ease; }
        .main-content.scaled { transform: scale(0.92); border-radius: 20px; overflow: hidden; }

        header { padding: 15px 20px; }
        .search-container { background: #2c2c2e; border-radius: 10px; padding: 10px; color: var(--am-text-muted); margin-bottom: 15px; }
        .tag-slider { display: flex; gap: 10px; overflow-x: auto; padding: 0 20px 10px; scrollbar-width: none; }
        .tag { background: #2c2c2e; padding: 6px 16px; border-radius: 20px; font-size: 14px; color: var(--am-red); white-space: nowrap; }

        .song-item { display: flex; align-items: center; padding: 10px 20px; border-bottom: 1px solid var(--am-border); }
        .song-cover { width: 50px; height: 50px; border-radius: 6px; margin-right: 15px; }

        /* --- 核心：雙模態播放器 --- */
        .player-wrapper {
            position: fixed; bottom: 0; left: 0; width: 100%;
            height: 100vh; z-index: 1000;
            transform: translateY(calc(100% - 70px)); /* 預設只露出 70px 的迷你列 */
            transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
        }
        .player-wrapper.expanded { transform: translateY(0); }

        /* 迷你模式 (Mini Player) */
        .mini-player {
            height: 70px; background: rgba(30, 30, 30, 0.95);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            display: flex; align-items: center; padding: 0 20px;
            border-top: 1px solid var(--am-border); cursor: pointer;
        }

        /* 展開模式 (Full Player) */
        .full-player {
            height: calc(100% - 70px); background: #1c1c1e;
            display: flex; flex-direction: column; align-items: center;
            padding: 20px 30px; opacity: 0; transition: opacity 0.3s;
        }
        .player-wrapper.expanded .full-player { opacity: 1; }

        .drag-handle { width: 40px; height: 5px; background: rgba(255,255,255,0.2); border-radius: 10px; margin-bottom: 40px; }
        .full-cover { width: 85%; aspect-ratio: 1/1; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.5); margin-bottom: 40px; }
        
        .full-info { width: 100%; text-align: left; margin-bottom: 30px; }
        .full-info h2 { font-size: 24px; margin-bottom: 5px; }
        .full-info p { color: var(--am-red); font-size: 18px; }

        .controls-big { display: flex; width: 100%; justify-content: space-around; align-items: center; margin-top: 40px; font-size: 35px; }
        .play-btn-big { width: 80px; height: 80px; background: white; color: black; border-radius: 50%; display: flex; justify-content: center; align-items: center; }

        /* 進度條 */
        .progress-container { width: 100%; margin-top: 20px; }
        .progress-bar { width: 100%; height: 4px; background: #3a3a3c; border-radius: 2px; }
    </style>
</head>
<body>

    <div class="main-content" id="mainContent">
        <header>
            <div style="font-size: 34px; font-weight: bold; margin-bottom: 20px;">瀏覽</div>
            <div class="search-container"><i class="fa-solid fa-magnifying-glass"></i> 搜尋音樂...</div>
        </header>
        <div class="tag-slider">
            <div class="tag">熱門</div><div class="tag">最新</div><div class="tag">放鬆</div><div class="tag">聚會</div>
        </div>
        
        <div id="songList">
            </div>
    </div>

    <div class="player-wrapper" id="playerWrapper">
        
        <div class="mini-player" onclick="togglePlayer(true)">
            <img src="https://is1-ssl.mzstatic.com/image/thumb/Music112/v4/91/93/29/9193297a-9762-d4b3-5777-628628929c21/cover.jpg/100x100bb.jpg" class="song-cover" style="width: 45px; height: 45px;">
            <div style="flex: 1;">
                <div style="font-size: 15px; font-weight: 600;">無底洞 (Live)</div>
            </div>
            <div style="display: flex; gap: 20px; font-size: 20px;">
                <i class="fa-solid fa-play"></i>
                <i class="fa-solid fa-forward"></i>
            </div>
        </div>

        <div class="full-player">
            <div class="drag-handle" onclick="togglePlayer(false)"></div>
            <img src="https://is1-ssl.mzstatic.com/image/thumb/Music112/v4/91/93/29/9193297a-9762-d4b3-5777-628628929c21/cover.jpg/600x600bb.jpg" class="full-cover">
            
            <div class="full-info">
                <h2>無底洞 (Live)</h2>
                <p>蔡健雅</p>
            </div>

            <div class="progress-container">
                <div class="progress-bar"></div>
                <div style="display: flex; justify-content: space-between; font-size: 12px; color: #8e8e93; margin-top: 8px;">
                    <span>1:24</span><span>4:03</span>
                </div>
            </div>

            <div class="controls-big">
                <i class="fa-solid fa-backward-step"></i>
                <div class="play-btn-big"><i class="fa-solid fa-play"></i></div>
                <i class="fa-solid fa-forward-step"></i>
            </div>
        </div>
    </div>

    <script>
        const playerWrapper = document.getElementById('playerWrapper');
        const mainContent = document.getElementById('mainContent');

        // 切換展開/縮小
        function togglePlayer(expand) {
            if (expand) {
                playerWrapper.classList.add('expanded');
                mainContent.classList.add('scaled'); // 背景主頁縮小，營造層次感
            } else {
                playerWrapper.classList.remove('expanded');
                mainContent.classList.remove('scaled');
            }
        }

        // 模擬生成一些歌曲
        const songList = document.getElementById('songList');
        for(let i=0; i<10; i++) {
            songList.innerHTML += `
                <div class="song-item">
                    <img src="https://is1-ssl.mzstatic.com/image/thumb/Music112/v4/2e/7d/50/2e7d5073-6771-419b-a311-667232252750/cover.jpg/100x100bb.jpg" class="song-cover">
                    <div style="flex:1">
                        <div style="font-weight:600">測試歌曲 ${i+1}</div>
                        <div style="color:#8e8e93; font-size:14px">歌手名稱</div>
                    </div>
                    <i class="fa-solid fa-ellipsis" style="color:var(--am-red)"></i>
                </div>
            `;
        }

        // 支援手勢滑動縮小 (簡單實作)
        let startY = 0;
        playerWrapper.addEventListener('touchstart', e => startY = e.touches[0].clientY);
        playerWrapper.addEventListener('touchmove', e => {
            let moveY = e.touches[0].clientY;
            if (moveY - startY > 100 && playerWrapper.classList.contains('expanded')) {
                togglePlayer(false);
            }
        });
    </script>
</body>
</html>
