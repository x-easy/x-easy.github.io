<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SVG 批量抓取器</title>

<style>
body {
  font-family: system-ui;
  padding: 20px;
}
textarea {
  width: 100%;
  height: 200px;
}
button {
  padding: 10px 20px;
  margin-top: 10px;
}
.log {
  margin-top: 20px;
  white-space: pre-wrap;
  background: #f5f5f5;
  padding: 10px;
}
</style>
</head>
<body>

<h1>SVG 批量下載工具</h1>

<p>每行一個 SVG URL：</p>

<textarea id="urls">
https://raw.githubusercontent.com/Klarr-Agency/Circum-Icons/main/svg/video_on.svg
https://raw.githubusercontent.com/Klarr-Agency/Circum-Icons/main/svg/youtube.svg
</textarea>

<br>
<button onclick="start()">開始抓取</button>

<div class="log" id="log"></div>

<script>
async function start() {
  const log = document.getElementById("log");
  log.textContent = "";

  const urls = document.getElementById("urls").value
    .split("\n")
    .map(u => u.trim())
    .filter(Boolean);

  for (const url of urls) {
    try {
      const res = await fetch(url);
      if (!res.ok) throw new Error(res.status);

      const text = await res.text();

      const filename = url.split("/").pop();
      const blob = new Blob([text], { type: "image/svg+xml" });

      const a = document.createElement("a");
      a.href = URL.createObjectURL(blob);
      a.download = filename;
      a.click();

      log.textContent += `✔ 成功：${filename}\n`;
    } catch (e) {
      log.textContent += `✖ 失敗：${url}\n`;
    }
  }
}
</script>

</body>
</html>
