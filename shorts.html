<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>è«æ¯”ç©ºé–“ | Shorts</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root { --icon-shadow: 0 2px 4px rgba(0,0,0,0.8); }

        html, body {
            height: 100%; width: 100%; margin: 0; padding: 0;
            overflow: hidden; background-color: #000;
            position: fixed; font-family: -apple-system, sans-serif;
        }

        /* æ ¸å¿ƒç£å¸å®¹å™¨ */
        .shorts-wrapper {
            height: 100dvh; width: 100vw;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        .shorts-wrapper::-webkit-scrollbar { display: none; }

        .short-card {
            height: 100dvh; width: 100vw;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            position: relative;
            background-color: #000;
        }

        video { width: 100%; height: 100%; object-fit: cover; }

        /* å³å´æ“ä½œæ¬„ */
        .side-bar {
            position: absolute; right: 12px; bottom: 100px;
            display: flex; flex-direction: column; align-items: center;
            gap: 25px; z-index: 10;
        }

        .action-item {
            display: flex; flex-direction: column; align-items: center;
            text-shadow: var(--icon-shadow); cursor: pointer;
        }
        .action-item i { font-size: 28px; }
        .action-item span { font-size: 11px; margin-top: 5px; font-weight: 500; }

        /* Logo åœ“åœˆ */
        .avatar-btn {
            width: 48px; height: 48px;
            border-radius: 50%; border: 2px solid #fff;
            overflow: hidden; cursor: pointer;
            box-shadow: var(--icon-shadow);
        }
        .avatar-btn img { width: 100%; height: 100%; object-fit: cover; }

        /* åº•éƒ¨è³‡è¨Š */
        .bottom-info {
            position: absolute; bottom: 40px; left: 15px; right: 80px;
            z-index: 10; pointer-events: none;
        }
        .bottom-info > * { pointer-events: auto; }

        .channel-info { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
        .channel-name { font-weight: bold; font-size: 16px; text-shadow: var(--icon-shadow); }

        .video-desc {
            font-size: 14px; margin-bottom: 10px;
            text-shadow: 0 1px 3px rgba(0,0,0,1);
            line-height: 1.4; opacity: 0.9;
        }

        .music-tag { display: flex; align-items: center; gap: 8px; font-size: 13px; }
        .music-tag i { animation: rotate 4s linear infinite; }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* é ‚éƒ¨å°èˆª (åƒ…ä¿ç•™ ç‚ºæ‚¨æ¨è–¦) */
        .top-nav {
            position: fixed; top: env(safe-area-inset-top, 20px); left: 15px;
            z-index: 20; font-size: 18px; font-weight: bold;
        }
        .top-nav span { border-bottom: 2px solid #fff; padding-bottom: 4px; }

        /* è¿”å›æŒ‰éˆ• */
        .back-btn {
            position: fixed; top: env(safe-area-inset-top, 20px); right: 15px;
            z-index: 20; font-size: 24px; color: #fff; text-decoration: none;
        }
    </style>
</head>
<body>

    <div class="top-nav">
        <span>æ¨è–¦</span>
    </div>

    <a href="https://x-easy.github.io/blog/" class="back-btn">
        <i class="fa-solid fa-xmark"></i>
    </a>

    <div class="shorts-wrapper" id="shortsWrapper"></div>

    <script>
        const videoSources = [
            "https://files.catbox.moe/xh7uyj.mp4", "https://files.catbox.moe/u94tk7.mp4",
            "https://files.catbox.moe/aizh9p.mp4", "https://files.catbox.moe/t9ojp9.mp4",
            "https://files.catbox.moe/xcqf9s.mp4", "https://files.catbox.moe/zzuqo4.mp4",
            "https://files.catbox.moe/t0mil6.mp4", "https://files.catbox.moe/rw7p6b.MP4",
            "https://files.catbox.moe/nvq49m.mp4", "https://files.catbox.moe/9fvg1s.mp4",
            "https://files.catbox.moe/9461nt.mp4", "https://files.catbox.moe/e93uth.mp4",
            "https://files.catbox.moe/79y11a.mp4", "https://files.catbox.moe/0d6dx3.mp4",
            "https://files.catbox.moe/00mt42.mp4", "https://files.catbox.moe/fret8a.mp4",
            "https://files.catbox.moe/kmgu5w.mp4", "https://files.catbox.moe/dwtlj4.mp4"
        ];

        const constantTags = "è«æ¯”ç©ºé–“â’¸ è«æ¯”éŸ³æ¨‚é »é“ğŸµ â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰â„¢ï¸ ÃJ-â²˜â³ğŸ§ Mobi-Music-channel ç†±é–€æ­Œæ›²";
        const randomOptions = ["Mix", "ReMix", "æŠ’æƒ…", "è¯èªæµè¡Œ", "ä¸­æ–‡é›»éŸ³", "DJèˆæ›²"];

        const wrapper = document.getElementById('shortsWrapper');
        let isMuted = true; // é è¨­éœéŸ³ä»¥ç¬¦åˆç€è¦½å™¨æ”¿ç­–

        // 2. ç”Ÿæˆå½±ç‰‡å¡ç‰‡
        videoSources.forEach((src, index) => {
            const randomTag = randomOptions[Math.floor(Math.random() * randomOptions.length)];
            const card = document.createElement('div');
            card.className = 'short-card';
            card.innerHTML = `
                <video loop preload="metadata" playsinline muted>
                    <source src="${src}" type="video/mp4">
                </video>
                <div class="side-bar">
                    <div class="action-item mute-btn" onclick="toggleMute(event)">
                        <i class="fa-solid fa-volume-xmark"></i>
                        <span>éŸ³é‡</span>
                    </div>
                    <div class="action-item" onclick="shareVideo(event, '${src}')">
                        <i class="fa-solid fa-share"></i>
                        <span>åˆ†äº«</span>
                    </div>
                    <div class="avatar-btn" onclick="location.href='https://x-easy.github.io/blog/'">
                        <img src="https://x-easy.github.io/medias/è«æ¯”éŸ³æ¨‚Logo.jpeg">
                    </div>
                </div>
                <div class="bottom-info">
                    <div class="channel-info">
                        <span class="channel-name">@Mobispace_Music</span>
                    </div>
                    <div class="video-desc">
                        ${constantTags} <span style="color: #FFD700;">#${randomTag}</span>
                    </div>
                    <div class="music-tag">
                        <i class="fa-solid fa-music"></i> åŸè² - è«æ¯”ç©ºé–“é »é“
                    </div>
                </div>
            `;
            wrapper.appendChild(card);
        });

        // 3. éœéŸ³åˆ‡æ›åŠŸèƒ½
        function toggleMute(e) {
            e.stopPropagation();
            isMuted = !isMuted;
            const allVideos = document.querySelectorAll('video');
            const allMuteIcons = document.querySelectorAll('.mute-btn i');
            
            allVideos.forEach(v => v.muted = isMuted);
            allMuteIcons.forEach(icon => {
                icon.className = isMuted ? 'fa-solid fa-volume-xmark' : 'fa-solid fa-volume-high';
            });
        }

        // 4. iOS åŸç”Ÿåˆ†äº«åŠŸèƒ½
        async function shareVideo(e, url) {
            e.stopPropagation();
            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'è«æ¯”ç©ºé–“ Shorts',
                        text: 'ä¾†çœ‹çœ‹è«æ¯”ç©ºé–“ç²¾å½©çŸ­å½±éŸ³ï¼',
                        url: window.location.href // åˆ†äº«ç•¶å‰ç¶²é é€£çµ
                    });
                } catch (err) { console.log('åˆ†äº«å–æ¶ˆ'); }
            } else {
                alert('æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´åŸç”Ÿåˆ†äº«ï¼Œå·²è¤‡è£½é€£çµã€‚');
                navigator.clipboard.writeText(window.location.href);
            }
        }

        // 5. æ™ºæ…§æ’­æ”¾é‚è¼¯
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const v = entry.target;
                if (entry.isIntersecting) {
                    v.play().catch(() => {});
                } else {
                    v.pause();
                    v.currentTime = 0;
                }
            });
        }, { root: wrapper, threshold: 0.6 });

        document.querySelectorAll('video').forEach(v => observer.observe(v));

        // é»æ“Šç•«é¢æš«åœ/æ’­æ”¾
        document.querySelectorAll('.short-card').forEach(card => {
            card.addEventListener('click', () => {
                const v = card.querySelector('video');
                v.paused ? v.play() : v.pause();
            });
        });
    </script>
</body>
</html>
