<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>èŽ«æ¯”ç©ºé–“ | Shorts æ——è‰¦ç‰ˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --yt-red: #ff0000;
            --icon-shadow: 0 2px 4px rgba(0,0,0,0.8);
        }

        /* éŽ–æ­»å¤–å±¤ï¼Œé˜²æ­¢æ‰‹æ©Ÿæ©¡çš®ç­‹æ•ˆæ‡‰ */
        html, body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden; 
            background-color: #000;
            position: fixed; 
            font-family: "Roboto", -apple-system, sans-serif;
        }

        /* Shorts ä¸»å®¹å™¨ï¼šæ ¸å¿ƒç£å¸å€ */
        .shorts-wrapper {
            height: 100dvh; 
            width: 100vw;
            overflow-y: scroll;
            scroll-snap-type: y mandatory; /* å¼·åˆ¶ç¸±å‘ç£å¸ */
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* éš±è—æ²è»¸ Firefox */
        }
        .shorts-wrapper::-webkit-scrollbar { display: none; } /* éš±è—æ²è»¸ Chrome/Safari */

        /* å–®å€‹å½±ç‰‡å¡ç‰‡ */
        .short-card {
            height: 100dvh;
            width: 100vw;
            scroll-snap-align: start; /* ç£å¸å°é½Šèµ·é»ž */
            scroll-snap-stop: always; /* å¼·åˆ¶ä¸€æ¬¡åœä¸€æ ¼ */
            position: relative;
            background-color: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover; /* å¡«æ»¿èž¢å¹• */
        }

        /* ä»‹é¢ UI å±¤ */
        .side-bar {
            position: absolute;
            right: 12px;
            bottom: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            z-index: 10;
        }

        .action-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-shadow: var(--icon-shadow);
        }
        .action-item i { font-size: 28px; margin-bottom: 5px; }
        .action-item span { font-size: 12px; font-weight: 500; }

        .avatar-btn img {
            width: 45px; height: 45px;
            border-radius: 50%; border: 2px solid #fff;
        }

        .bottom-info {
            position: absolute;
            bottom: 40px;
            left: 15px;
            right: 75px;
            z-index: 10;
            pointer-events: none;
        }
        .bottom-info > * { pointer-events: auto; }

        .channel-info { display: flex; align-items: center; gap: 10px; margin-bottom: 12px; }
        .channel-name { font-weight: bold; font-size: 16px; }
        .subscribe-btn { background: #fff; color: #000; padding: 6px 15px; border-radius: 20px; font-size: 12px; font-weight: bold; border: none; }

        .video-desc {
            font-size: 14px; margin-bottom: 10px;
            text-shadow: 0 1px 3px rgba(0,0,0,1);
            line-height: 1.5;
        }

        .music-tag { display: flex; align-items: center; gap: 8px; font-size: 13px; }
        .music-tag i { animation: rotate 4s linear infinite; }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        .top-nav { position: fixed; top: env(safe-area-inset-top, 20px); left: 15px; z-index: 20; display: flex; gap: 20px; font-size: 18px; font-weight: bold; }
        .top-nav span { opacity: 0.6; }
        .top-nav span.active { opacity: 1; border-bottom: 2px solid #fff; }

        /* æ„›å¿ƒå‹•ç•« */
        @keyframes heartFade {
            0% { transform: translate(-50%,-50%) scale(0.5); opacity: 0; }
            50% { transform: translate(-50%,-50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%,-50%) scale(1.5); opacity: 0; }
        }
    </style>
</head>
<body>

    <div class="top-nav">
        <span>è¨‚é–±ä¸­</span>
        <span class="active">ç‚ºæ‚¨æŽ¨è–¦</span>
    </div>

    <div class="shorts-wrapper" id="shortsWrapper"></div>

    <script>
        // 1. å½±ç‰‡èˆ‡æ¨™ç±¤è¨­å®š
        const videoSources = [
            "https://files.catbox.moe/xh7uyj.mp4", "https://files.catbox.moe/u94tk7.mp4",
            "https://files.catbox.moe/aizh9p.mp4", "https://files.catbox.moe/t9ojp9.mp4",
            "https://files.catbox.moe/xcqf9s.mp4", "https://files.catbox.moe/zzuqo4.mp4",
            "https://files.catbox.moe/t0mil6.mp4", "https://files.catbox.moe/rw7p6b.MP4",
            "https://files.catbox.moe/nvq49m.mp4", "https://files.catbox.moe/9fvg1s.mp4",
            "https://files.catbox.moe/9461nt.mp4", "https://files.catbox.moe/e93uth.mp4",
            "https://files.catbox.moe/79y11a.mp4", "https://files.catbox.moe/0d6dx3.mp4",
            "https://files.catbox.moe/00mt42.mp4", "https://files.catbox.moe/fret8a.mp4",
            "https://files.catbox.moe/kmgu5w.mp4", "https://files.catbox.moe/dwtlj4.mp4"
        ];

        const constantTags = "èŽ«æ¯”ç©ºé–“â’¸ èŽ«æ¯”éŸ³æ¨‚é »é“ðŸŽµ â²˜ð”¬â²ƒÂ¡â³ð”­â²ð” â²‰â„¢ï¸ ÃJ-â²˜â³ðŸŽ§ Mobi-Music-channel ç†±é–€æ­Œæ›² ç†±æ’­éŸ³æ¨‚ éŸ³æ¨‚æŽ’è¡Œ ç²¾é¸æ­Œæ›²";
        const randomOptions = ["Mix", "ReMix", "æŠ’æƒ…", "è¯èªžæµè¡Œ", "ä¸­æ–‡é›»éŸ³", "DJèˆžæ›²"];

        const wrapper = document.getElementById('shortsWrapper');

        // 2. ç”Ÿæˆå½±ç‰‡å¡ç‰‡
        videoSources.forEach((src, index) => {
            const randomTag = randomOptions[Math.floor(Math.random() * randomOptions.length)];
            const card = document.createElement('div');
            card.className = 'short-card';
            card.innerHTML = `
                <video loop preload="metadata" playsinline webkit-playsinline>
                    <source src="${src}" type="video/mp4">
                </video>
                <div class="side-bar">
                    <div class="action-item"><i class="fa-solid fa-thumbs-up"></i><span>${(Math.random()*20).toFixed(1)}K</span></div>
                    <div class="action-item"><i class="fa-solid fa-comment"></i><span>${Math.floor(Math.random()*999)}</span></div>
                    <div class="action-item"><i class="fa-solid fa-share"></i><span>åˆ†äº«</span></div>
                    <div class="avatar-btn"><img src="https://x-easy.github.io/medias/èŽ«æ¯”éŸ³æ¨‚Logo.jpeg"></div>
                </div>
                <div class="bottom-info">
                    <div class="channel-info">
                        <span class="channel-name">@Mobispace_Music</span>
                        <button class="subscribe-btn">è¨‚é–±</button>
                    </div>
                    <div class="video-desc">
                        ${constantTags}<br>
                        <span style="color: #FFD700;">#${randomTag}</span> ç³»åˆ—å½±éŸ³ #${index + 1}
                    </div>
                    <div class="music-tag">
                        <i class="fa-solid fa-music"></i> ${randomTag} - èŽ«æ¯”ç©ºé–“åŽŸå‰µ
                    </div>
                </div>
            `;
            wrapper.appendChild(card);
        });

        // 3. æ™ºæ…§ç£å¸æ’­æ”¾é‚è¼¯
        const videos = document.querySelectorAll('video');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const v = entry.target;
                if (entry.isIntersecting) {
                    v.play().catch(() => {});
                } else {
                    v.pause();
                    v.currentTime = 0; // æ»‘èµ°å°±é‡é ­é–‹å§‹
                }
            });
        }, { root: wrapper, threshold: 0.6 });

        videos.forEach(v => observer.observe(v));

        // 4. é»žæ“Šèˆ‡é›™æ“Šæ„›å¿ƒ
        document.querySelectorAll('.short-card').forEach(card => {
            const v = card.querySelector('video');
            card.addEventListener('click', () => v.paused ? v.play() : v.pause());
            card.addEventListener('dblclick', (e) => {
                const heart = document.createElement('i');
                heart.className = 'fa-solid fa-heart';
                heart.style.cssText = `position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); font-size:100px; color:rgba(255,255,255,0.9); z-index:100; pointer-events:none; animation: heartFade 0.8s ease-out forwards;`;
                card.appendChild(heart);
                setTimeout(() => heart.remove(), 800);
            });
        });
    </script>
</body>
</html>
