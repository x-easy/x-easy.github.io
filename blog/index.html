<!DOCTYPE html>
<html lang="zh-TW" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>è«æ¯”ç©ºé–“ | é€²éšå„ªåŒ–ç‰ˆ</title>
    
    <link rel="icon" href="https://x-easy.github.io/medias/è«æ¯”éŸ³æ¨‚Logo.jpeg" type="image/jpeg">
    <link rel="apple-touch-icon" href="https://x-easy.github.io/medias/è«æ¯”éŸ³æ¨‚Logo.jpeg">

    <meta name="description" content="è«æ¯”ç©ºé–“ - å…¨æ–¹ä½çš„å…§å®¹èšåˆå¹³å°">
    <meta name="author" content="è«æ¯”ç©ºé–“ â’¸ â²˜ğ”¬â²ƒÂ¡â³ğ”­â²ğ” â²‰">
    <link rel="canonical" href="https://x-easy.github.io/blog/">

    <meta name="theme-color" content="#111111">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>

    <style>
        :root {
            --bg-body: #000000;
            --bg-container: #111111;
            --bg-card: #222222;
            --bg-input: #333333;
            --text-main: #ffffff;
            --text-sub: #aaaaaa;
            --border-color: #333333;
            --accent-color: #06c755;
            --nav-bg: #111111;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            overflow: hidden; 
        }

        #app-container {
            max-width: 480px;
            margin: 0 auto;
            background-color: var(--bg-container);
            height: 100vh;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* --- Header & Mini Player --- */
        .app-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px; background-color: var(--bg-container);
            z-index: 100; flex-shrink: 0;
        }

        .line-music-player {
            display: flex; align-items: center; background-color: var(--bg-input);
            padding: 4px 12px; border-radius: 20px; border: 1px solid var(--border-color);
            flex: 1; margin-right: 10px; height: 38px; cursor: pointer; min-width: 0;
            overflow: hidden;
        }

        .music-title-scroll {
            font-size: 12px; white-space: nowrap; color: var(--text-main); flex: 1;
            display: inline-block;
        }

        /* è·‘é¦¬ç‡ˆå‹•ç•« */
        .animate-scroll {
            display: inline-block;
            animation: scrollText 10s linear infinite;
        }

        @keyframes scrollText {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        .header-icons { display: flex; gap: 10px; flex-shrink: 0; }
        .icon-btn {
            background: none; border: none; color: var(--text-main);
            font-size: 10px; display: flex; flex-direction: column; align-items: center;
            cursor: pointer; text-decoration: none;
        }
        .icon-btn i {
            font-size: 18px; margin-bottom: 2px; padding: 5px;
            border: 1px solid var(--border-color); border-radius: 8px;
        }

        /* --- Search --- */
        .search-section { padding: 5px 15px 10px; flex-shrink: 0; }
        .search-box {
            background-color: var(--bg-input); border-radius: 10px;
            padding: 8px 15px; display: flex; align-items: center; color: var(--text-sub);
        }
        .search-box input {
            background: transparent; border: none; color: var(--text-main);
            width: 100%; margin-left: 10px; font-size: 14px; outline: none;
        }

        /* --- Main View --- */
        #main-view { flex: 1; overflow-y: auto; scroll-behavior: smooth; padding-bottom: 80px; position: relative; }
        #main-view::-webkit-scrollbar { display: none; }

        .shortcut-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; padding: 20px 10px; }
        .shortcut-item { display: flex; flex-direction: column; align-items: center; color: var(--text-main); text-decoration: none; font-size: 10px; }
        .shortcut-icon {
            width: 42px; height: 42px; background-color: var(--bg-card);
            border-radius: 12px; display: flex; align-items: center; justify-content: center;
            margin-bottom: 6px; font-size: 18px; color: var(--accent-color);
        }

        /* --- Shorts --- */
        .shorts-container { height: 100%; width: 100%; background-color: #000; overflow-y: scroll; scroll-snap-type: y mandatory; }
        .shorts-card { height: 100%; width: 100%; scroll-snap-align: start; position: relative; background-color: #000; }
        .shorts-video { width: 100%; height: 100%; object-fit: cover; }
        
        .shorts-ui-right {
            position: absolute; right: 10px; bottom: 120px;
            display: flex; flex-direction: column; gap: 20px; z-index: 20;
        }
        .shorts-action-btn { color: white; display: flex; flex-direction: column; align-items: center; font-size: 12px; }
        .shorts-action-btn i {
            font-size: 24px; margin-bottom: 5px; background: rgba(0,0,0,0.4);
            width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border-radius: 50%;
        }

        /* --- Navigation --- */
        .bottom-nav { 
            position: fixed; bottom: 0; left: 0; right: 0; max-width: 480px; margin: 0 auto; 
            height: 60px; background-color: var(--nav-bg); border-top: 1px solid var(--border-color); 
            display: flex; justify-content: space-around; align-items: center; z-index: 999; 
        }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: var(--text-sub); text-decoration: none; width: 25%; font-size: 10px; }
        .nav-item.active { color: var(--accent-color); }

        /* --- Modals --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); z-index: 4000;
            display: none; justify-content: center; align-items: flex-end;
            backdrop-filter: blur(5px);
        }
        .modal-overlay.show { display: flex; }
        .action-sheet {
            width: 100%; max-width: 480px; background: var(--bg-card);
            border-radius: 20px 20px 0 0; padding: 20px; transform: translateY(0);
        }
    </style>
</head>
<body>

    <div id="app-container">
        <header class="app-header" id="appHeader">
            <div class="line-music-player" id="miniPlayer">
                <i class="fa-solid fa-music" style="color: var(--accent-color); margin-right: 8px;"></i>
                <div class="music-title-scroll" id="playerText">
                    <span class="animate-scroll">æ­£åœ¨æ’­æ”¾ï¼šè«æ¯”æ¨è–¦é›»å° - 2024 å¤å­£æ··éŸ³</span>
                </div>
            </div>
            <div class="header-icons">
                <button class="icon-btn" onclick="alert('å°šæœªæœ‰æ–°å…¬å‘Š')"><i class="fa-solid fa-scroll"></i><span>å…¬å‘Š</span></button>
                <button class="icon-btn" onclick="toggleKeepModal(true)"><i class="fa-regular fa-bookmark"></i><span>KEEP</span></button>
            </div>
        </header>

        <section class="search-section" id="searchSection">
            <div class="search-box">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" id="searchInput" placeholder="æœå°‹å…§å®¹...">
            </div>
        </section>

        <main id="main-view"></main>

        <nav class="bottom-nav">
            <a href="/" class="nav-item active" data-link><i class="fa-solid fa-house"></i><span>é¦–é </span></a>
            <a href="/explore" class="nav-item" data-link><i class="fa-solid fa-compass"></i><span>æ¢ç´¢</span></a>
            <a href="/shorts" class="nav-item" data-link><i class="fa-brands fa-youtube"></i><span>Shorts</span></a>
            <a href="/settings" class="nav-item" data-link><i class="fa-solid fa-gear"></i><span>è¨­å®š</span></a>
        </nav>
    </div>

    <div id="keepModal" class="modal-overlay" onclick="toggleKeepModal(false)">
        <div class="action-sheet" style="height: 80vh;" onclick="event.stopPropagation()">
            <div style="display:flex; justify-content: space-between; margin-bottom: 15px;">
                <h3>æˆ‘çš„ KEEP</h3>
                <i class="fa-solid fa-xmark" onclick="toggleKeepModal(false)"></i>
            </div>
            <iframe src="https://x-easy.github.io/tools/keep/index.html" style="width:100%; height: 90%; border:none; border-radius: 10px;"></iframe>
        </div>
    </div>

    <script>
        /* ====================
           è³‡æ–™åº«è¨­å®š
           ==================== */
        const db = {
            shortcuts: [
                { name: "æ’è¡Œæ¦œ", icon: "fa-chart-line", route: "/rank" },
                { name: "æ–°æ­Œé¦–ç™¼", icon: "fa-compact-disc", route: "/new" },
                { name: "Podcast", icon: "fa-microphone", route: "/podcast" },
                { name: "æ”¶è—", icon: "fa-bookmark", route: "/collection" },
                { name: "æœ€æ„›", icon: "fa-heart", route: "/fav" }
            ],
            articles: [
                { id: 1, title: "å¦‚ä½•é¸æ“‡ä½ çš„ç¬¬ä¸€æŠŠå‰ä»–ï¼Ÿ", date: "2å°æ™‚å‰", img: "https://images.unsplash.com/photo-1510915361894-db8b60106cb1?w=200" },
                { id: 2, title: "2024 å¿…è½é›»éŸ³æ¸…å–®", date: "5å°æ™‚å‰", img: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?w=200" }
            ],
            shorts: [
                { 
                    id: 1, user: "è«æ¯”éŸ³æ¨‚é »é“", desc: "DJ â²¸â³ 2024 Mix ğŸ”¥ #EDM", 
                    videoUrl: "https://raw.githubusercontent.com/x-easy/x-easy.github.io/main/medias/%E8%B7%9F%E8%91%97%E7%AF%80%E5%A5%8F%E4%B8%80%E8%B5%B7%E6%90%96%E9%A0%AD%E5%8F%88%E6%99%83%E8%85%A6%20DJ%20%E2%B2%98%E2%B3%9D%202024%20Mix.mp4",
                    avatar: "https://x-easy.github.io/medias/è«æ¯”éŸ³æ¨‚Logo.jpeg"
                },
                { 
                    id: 2, user: "éŸ³æ¨‚æ¨è–¦å“¡", desc: "é€™é¦–çœŸçš„å¤ªå¥½è½äº†ï¼", 
                    videoUrl: "https://www.w3schools.com/html/mov_bbb.mp4", // æ¸¬è©¦ç”¨å½±ç‰‡
                    avatar: "https://i.pravatar.cc/100?img=5"
                }
            ]
        };

        const mainView = document.getElementById('main-view');

        /* ====================
           è·¯ç”±ç³»çµ±
           ==================== */
        const routes = {
            '/': renderHome,
            '/explore': () => `<div style="padding:20px;"><h2>æ¢ç´¢</h2><p>æŒ–æ˜æ›´å¤šç²¾å½©å…§å®¹...</p></div>`,
            '/shorts': renderShorts,
            '/settings': () => `<div style="padding:20px;"><h2>è¨­å®š</h2><p>ç‰ˆæœ¬: v2.0.0 (å„ªåŒ–ç‰ˆ)</p></div>`
        };

        async function router() {
            const path = window.location.pathname;
            const viewFunc = routes[path] || routes['/'];
            
            // UI æ§åˆ¶
            const isShorts = (path === '/shorts');
            document.getElementById('appHeader').style.display = isShorts ? 'none' : 'flex';
            document.getElementById('searchSection').style.display = isShorts ? 'none' : 'block';

            mainView.innerHTML = await viewFunc();
            updateNavState(path);

            // é é¢ç‰¹å®šåˆå§‹åŒ–
            if (isShorts) initShortsAutoPlay();
            if (path === '/') initSearchLogic();
        }

        function updateNavState(path) {
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.toggle('active', el.getAttribute('href') === path);
            });
        }

        /* ====================
           åŠŸèƒ½çµ„ä»¶å¯¦ä½œ
           ==================== */

        // 1. é¦–é æ¸²æŸ“
        function renderHome() {
            const shortcutsHtml = db.shortcuts.map(b => `
                <a href="${b.route}" class="shortcut-item" data-link>
                    <div class="shortcut-icon"><i class="fa-solid ${b.icon}"></i></div>
                    <span>${b.name}</span>
                </a>`).join('');
            
            const articlesHtml = db.articles.map(i => `
                <div style="display:flex; gap:15px; padding:15px 0; border-bottom:1px solid var(--border-color);">
                    <img src="${i.img}" style="width:80px; height:80px; border-radius:8px; object-fit:cover;" loading="lazy">
                    <div><h4 style="margin-bottom:5px;">${i.title}</h4><small style="color:var(--text-sub);">${i.date}</small></div>
                </div>`).join('');

            return `<section class="shortcut-grid">${shortcutsHtml}</section>
                    <section style="padding:0 15px;"><h3>ç†±é–€æ–‡ç« </h3>${articlesHtml}</section>`;
        }

        // 2. Shorts æ¸²æŸ“èˆ‡è‡ªå‹•æ’­æ”¾é‚è¼¯
        function renderShorts() {
            return `<div class="shorts-container">` + db.shorts.map(v => `
                <div class="shorts-card">
                    <video class="shorts-video" src="${v.videoUrl}" loop muted playsinline onclick="this.paused ? this.play() : this.pause()"></video>
                    <div class="shorts-ui-right">
                        <div class="shorts-action-btn"><i class="fa-solid fa-heart"></i><span>è®š</span></div>
                        <div class="shorts-action-btn"><i class="fa-solid fa-comment"></i><span>è©•è«–</span></div>
                        <div class="shorts-action-btn" onclick="alert('é€£çµå·²è¤‡è£½')"><i class="fa-solid fa-share"></i><span>åˆ†äº«</span></div>
                    </div>
                    <div style="position:absolute; left:15px; bottom:80px; color:white;">
                        <div style="display:flex; align-items:center; margin-bottom:8px;">
                            <img src="${v.avatar}" style="width:36px; height:36px; border-radius:50%; margin-right:10px; border:2px solid #fff;">
                            <span style="font-weight:bold;">@${v.user}</span>
                        </div>
                        <div style="font-size:13px;">${v.desc}</div>
                    </div>
                </div>
            `).join('') + `</div>`;
        }

        function initShortsAutoPlay() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const video = entry.target.querySelector('video');
                    if (entry.isIntersecting) {
                        video.play().catch(() => {});
                    } else {
                        video.pause();
                    }
                });
            }, { threshold: 0.7 });

            document.querySelectorAll('.shorts-card').forEach(card => observer.observe(card));
        }

        // 3. æœå°‹é‚è¼¯ (Fuse.js)
        function initSearchLogic() {
            const input = document.getElementById('searchInput');
            const fuse = new Fuse([...db.shortcuts, ...db.articles], { keys: ['name', 'title'], threshold: 0.4 });

            input.addEventListener('input', (e) => {
                const query = e.target.value;
                if (!query) { router(); return; }

                const results = fuse.search(query).map(r => r.item);
                mainView.innerHTML = `<div style="padding:15px;"><h4>æœå°‹çµæœ: "${query}"</h4></div>` + 
                    results.map(i => `<div style="padding:10px 15px; border-bottom:1px solid #333;">${i.name || i.title}</div>`).join('');
            });
        }

        function toggleKeepModal(show) {
            document.getElementById('keepModal').classList.toggle('show', show);
        }

        /* --- åˆå§‹åŒ– --- */
        window.navigateTo = url => { history.pushState(null, null, url); router(); };
        window.addEventListener('popstate', router);
        
        document.addEventListener('DOMContentLoaded', () => {
            router();
            document.body.addEventListener('click', e => {
                const link = e.target.closest('[data-link]');
                if (link) { e.preventDefault(); navigateTo(link.getAttribute('href')); }
            });
        });
    </script>
</body>
</html>